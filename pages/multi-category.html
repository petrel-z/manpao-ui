<!-- 多级规格——分类设置页面 -->
<div class="page" id="multi-category">
    <div class="min-h-full bg-gray-50 pb-20 relative">
        <!-- 头部导航 -->
        <div class="primary-red p-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <i id="back-btn" class="fas fa-arrow-left text-white cursor-pointer"></i>
                    <h1 class="text-white text-lg font-medium">多级规格设置</h1>
                </div>
            </div>
        </div>

        <!-- 页面内容 -->
        <div class="p-4 space-y-4 h-[600px] overflow-y-scroll relative">
            <!-- 常用规格分类 -->
            <div class="bg-white rounded-lg p-4 mb-3">
                <div class="flex items-center justify-between mb-3">
                    <span class="text-sm font-medium text-gray-800">常用规格分类</span>
                    <span class="text-xs text-gray-500">点击选择</span>
                </div>
                <div class="flex flex-wrap gap-2">
                    <button id="common-category-btn-fengliang"
                        class="px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg border border-gray-200 hover:bg-red-50 hover:border-red-300 hover:text-red-600 transition-colors">
                        分量
                    </button>
                    <button id="common-category-btn-kouwei"
                        class="px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg border border-gray-200 hover:bg-red-50 hover:border-red-300 hover:text-red-600 transition-colors">
                        口味
                    </button>
                    <button id="common-category-btn-wendu"
                        class="px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg border border-gray-200 hover:bg-red-50 hover:border-red-300 hover:text-red-600 transition-colors">
                        温度
                    </button>
                </div>
            </div>

            <!-- 规格分类列表 -->
            <div id="category-list" class="space-y-3">
                <!-- 默认规格分类项 -->
                <div class="bg-white rounded-lg p-4 mb-3" id="category-1">
                    <div class="flex flex-col justify-between mb-3">
                        <div class="text-sm font-medium text-gray-800 mb-3">分量</div>
                        <div class="">
                            <div id="specs-1" class="min-h-[20px]">
                                <span
                                    class="inline-block px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded mr-2 mb-2">小份</span>
                                <span
                                    class="inline-block px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded mr-2 mb-2">中份</span>
                                <span
                                    class="inline-block px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded mr-2 mb-2">大份</span>
                            </div>
                        </div>
                        <div class="flex items-center justify-end space-x-2 mt-3">
                            <button data-category-id="1"
                                class="move-up-btn px-2 py-1 text-xs text-gray-600 border border-gray-300 rounded hover:bg-gray-50">
                                上移
                            </button>
                            <button data-category-id="1"
                                class="move-down-btn px-2 py-1 text-xs text-gray-600 border border-gray-300 rounded hover:bg-gray-50">
                                下移
                            </button>
                            <button data-category-id="1"
                                class="delete-category-btn px-2 py-1 text-xs text-red-500 border border-red-300 rounded hover:bg-red-50">
                                删除
                            </button>
                            <button data-category-id="1"
                                class="save-common-btn px-2 py-1 text-xs text-blue-500 border border-blue-300 rounded hover:bg-blue-50">
                                保存为常用
                            </button>
                        </div>
                    </div>

                    <button data-category-id="1"
                        class="add-spec-btn w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-red-300 hover:text-red-500 transition-colors text-sm">
                        + 添加规格
                    </button>
                </div>

                <div class="bg-white rounded-lg p-4 mb-3" id="category-2">
                    <div class="flex flex-col justify-between mb-3">
                        <div class="text-sm font-medium text-gray-800 mb-3">口味</div>
                        <div class="">
                            <div id="specs-2" class="min-h-[20px]">
                                <span
                                    class="inline-block px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded mr-2 mb-2">微辣</span>
                                <span
                                    class="inline-block px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded mr-2 mb-2">中辣</span>
                                <span
                                    class="inline-block px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded mr-2 mb-2">特辣</span>
                            </div>
                        </div>
                        <div class="flex items-center justify-end space-x-2 mt-3">
                            <button data-category-id="2"
                                class="move-up-btn px-2 py-1 text-xs text-gray-600 border border-gray-300 rounded hover:bg-gray-50">
                                上移
                            </button>
                            <button data-category-id="2"
                                class="move-down-btn px-2 py-1 text-xs text-gray-600 border border-gray-300 rounded hover:bg-gray-50">
                                下移
                            </button>
                            <button data-category-id="2"
                                class="delete-category-btn px-2 py-1 text-xs text-red-500 border border-red-300 rounded hover:bg-red-50">
                                删除
                            </button>
                            <button data-category-id="2"
                                class="save-common-btn px-2 py-1 text-xs text-blue-500 border border-blue-300 rounded hover:bg-blue-50">
                                保存为常用
                            </button>
                        </div>
                    </div>

                    <button data-category-id="2"
                        class="add-spec-btn w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-red-300 hover:text-red-500 transition-colors text-sm">
                        + 添加规格
                    </button>
                </div>
            </div>

            <!-- 添加规格分类按钮 -->
            <div class="bg-white rounded-lg p-4 mb-3">
                <button id="add-category-btn"
                    class="w-full py-3 border-2 border-dashed border-red-300 rounded-lg text-gray-500 hover:border-red-500 hover:text-red-500 transition-colors">
                    + 添加规格分类
                </button>
            </div>


        </div>
        <!-- 底部下一步按钮 -->
        <div class="absolute bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4">
            <button 
            onclick="showPage('multi-price')"
            class="w-full py-3 bg-red-500 text-white rounded-lg hover:bg-red-600">
                下一步
            </button>
        </div>
    </div>

    <!-- 常用规格分类选择弹窗 -->
    <div id="common-category-modal" class="absolute inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-full p-4">
            <div class="bg-white rounded-lg w-full max-w-sm">
                <div class="p-4 border-b border-gray-200">
                    <h3 id="common-category-title" class="text-lg font-medium text-gray-900">选择分量</h3>
                </div>
                <div class="p-4">
                    <div id="common-category-options" class="space-y-2">
                        <!-- 选项将通过JavaScript动态添加 -->
                    </div>
                </div>
                <div class="p-4 border-t border-gray-200">
                    <div class="flex space-x-3">
                        <button id="common-category-cancel-btn"
                            class="flex-1 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50">
                            取消
                        </button>
                        <button id="common-category-confirm-btn"
                            class="flex-1 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600">
                            确定
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 添加规格分类弹窗 -->
    <div id="add-category-modal-multi" class="absolute inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-full p-4">
            <div class="bg-white rounded-lg w-full max-w-sm">
                <div class="p-4 border-b border-gray-200">
                    <h3 class="text-lg font-medium text-gray-900">添加规格分类</h3>
                </div>
                <div class="p-4">
                    <input type="text" id="category-name-input-multi" placeholder="请输入分类名称"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-red-500">
                </div>
                <div class="p-4 border-t border-gray-200">
                    <div class="flex space-x-3">
                        <button id="add-category-cancel-btn"
                            class="flex-1 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50">
                            取消
                        </button>
                        <button id="add-category-save-btn"
                            class="flex-1 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600">
                            保存
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 添加规格弹窗 -->
    <div id="add-spec-modal" class="absolute inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-full p-4">
            <div class="bg-white rounded-lg w-full max-w-sm">
                <div class="p-4 border-b border-gray-200">
                    <h3 class="text-lg font-medium text-gray-900">添加规格</h3>
                </div>
                <div class="p-4">
                    <input type="text" id="spec-name-input" placeholder="请输入规格名称"
                        class="w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-red-500">
                </div>
                <div class="p-4 border-t border-gray-200">
                    <div class="flex space-x-3">
                        <button id="add-spec-cancel-btn"
                            class="flex-1 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50">
                            取消
                        </button>
                        <button id="add-spec-save-btn"
                            class="flex-1 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600">
                            保存
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>